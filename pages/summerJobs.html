<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VentureVerse Internships</title>
</head>
<body>
    <h1>Summer 2025 Internships - Powered by VentureVerse ðŸš€</h1>
    <p>Welcome to VentureVerse's curated list of Summer 2025 tech internships! ðŸŒŸ</p>
    
    <div id="internship-list">
        <!-- Internship table will be dynamically loaded here -->
    </div>
    
    <div align="center">
        <button id="loadMore" onclick="loadMore()">Show More Internships</button>
    </div>
    
    <script>
    // Fetch data from summerListings.json and display top 30 internships
    let internships = [];
    let currentIndex = 0;
    const ITEMS_PER_PAGE = 30;
    const internshipListDiv = document.getElementById('internship-list');

    function fetchInternships() {
        fetch('./scripts/summerListings.json')  // Update the path if needed
        .then(response => response.json())
        .then(data => {
            internships = data; // Store the internships data
            displayInternships(); // Display the first set of internships
        })
        .catch(error => console.error('Error loading internships:', error));
    }

    function displayInternships() {
        let html = `
        <table>
            <tr>
                <th>Company</th>
                <th>Role</th>
                <th>Location</th>
                <th>Application Link</th>
                <th>Date Posted</th>
            </tr>
        `;

        const endIndex = Math.min(currentIndex + ITEMS_PER_PAGE, internships.length);
        for (let i = currentIndex; i < endIndex; i++) {
            const job = internships[i];
            html += `
            <tr>
                <td>${job.company}</td>
                <td>${job.role}</td>
                <td>${job.location}</td>
                <td><a href="${job.apply_link}">Apply</a></td>
                <td>${job.date_posted}</td>
            </tr>
            `;
        }

        html += '</table>';
        internshipListDiv.innerHTML = html;
        currentIndex = endIndex; // Update the current index

        if (currentIndex >= internships.length) {
            document.getElementById('loadMore').style.display = 'none'; // Hide 'Show More' button if all items are displayed
        }
    }

    function loadMore() {
        displayInternships(); // Load next set of internships
    }

    // Initial load
    fetchInternships();
    </script>
</body>
</html>
